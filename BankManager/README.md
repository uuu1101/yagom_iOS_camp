# ì€í–‰ ë§¤ë‹ˆì € ì•± í”„ë¡œì íŠ¸ğŸ“±

 > 3ëª…ì˜ ì€í–‰ì›ì´ 10 ~ 30ëª…ì˜ ê³ ê°ì„ ìš°ì„ ìˆœìœ„(ê³ ê°ë“±ê¸‰)ì— ë”°ë¼ ì—…ë¬´ë¥¼ ì²˜ë¦¬í•´ì£¼ëŠ” ì½˜ì†” ì•±

## Index
* [í”„ë¡œì íŠ¸ ê·œì¹™](#í”„ë¡œì íŠ¸-ê·œì¹™) 
* [ê¸°ëŠ¥](#ê¸°ëŠ¥)
* [Trouble Shooting](#trouble-shooting)
* [í•™ìŠµ ë‚´ìš©](#í•™ìŠµ-ë‚´ìš©)


## í”„ë¡œì íŠ¸ 

- ğŸ‘¦ ğŸ‘¦ íŒ€ì› : [ê¸€ë Œ](https://github.com/innieminnie), [íƒœíƒœ](https://github.com/uuu1101)  

- ğŸ“… ê¸°ê°„ : 2021.01.04 ~ 2021.01.17 2ì£¼ê°„


## í”„ë¡œì íŠ¸ ê·œì¹™

#### 1. íŒ€ì›

* ê¸€ë Œ
* íƒœíƒœ



#### 2. ìš°ë¦¬ íŒ€ë§Œì˜ ê·œì¹™

- ì˜¤ì „ 11ì‹œ, íšŒì˜ì‹¤ 6ë²ˆì—ì„œ ìŠ¤í¬ëŸ¼ ì§„í–‰ !

- ì–¸ì œë“ ì§€ ì—°ë½ ê°€ëŠ¥ ! í™•ì¸í•˜ë©´ ë‹µ í•´ì£¼ê¸° !

- ê¶ê¸ˆí•œ ê²ƒì´ ìˆìœ¼ë©´ DMí•˜ì—¬ íšŒì˜ì‹¤ ì†Œí™˜ !



#### 3. ìŠ¤í¬ëŸ¼ ì£¼ì œ

- í˜„ì¬ê¹Œì§€ í”„ë¡œì íŠ¸ ì§„í–‰ ì‚¬í•­ ê³µìœ 

- ì»¨ë””ì…˜, ì‰¬ëŠ” ì‹œê°„ì— ë­ í–ˆëŠ”ì§€ ì„œë¡œ ì§ˆë¬¸

- ëª¨ë¥´ëŠ” ë¶€ë¶„ì´ë‚˜ ì–´ë ¤ìš´ ë¶€ë¶„ì´ ìˆëŠ”ì§€ ì„œë¡œ ê³µìœ 



#### 4. í”„ë¡œì íŠ¸ ê·œì¹™

* ê¸€ë Œì´ Forkë¥¼ ë– ì„œ ê°ì ë¸Œëœì¹˜ì—ì„œ ì‘ì—… í›„ Merge í›„ PR ë³´ë‚´ê¸° !

  ##### 4-1. ë¸Œëœì¹˜ ì´ë¦„ ê·œì¹™

  * í•´ë‹¹ ìŠ¤í…-ë‹‰ë„¤ì„ í˜•ì‹ìœ¼ë¡œ ë¸Œëœì¹˜ ìƒì„±

    â€‹	Ex) Step1- Glenn , Step1-taetae

  ##### 4-2. ì»¤ë°‹ ê·œì¹™

  - í•œê¸€ë¡œ ì‘ì„± í•˜ê¸° !
  - í•¨ìˆ˜ ë‹¨ìœ„ë¡œ ì»¤ë°‹ ì‘ì„±í•  ìˆ˜ ìˆê²Œ ìµœëŒ€í•œ ë…¸ë ¥í•˜ê¸° !

  ##### 4-3. ì»¤ë°‹ ë©”ì‹œì§€ ê·œì¹™

  * [Karma Style](http://karma-runner.github.io/5.2/dev/git-commit-msg.html) ì¤€ìˆ˜í•˜ê¸°

  ##### 4-4. ì½”ë”© ì»¨ë²¤ì…˜

  - Swift API ë””ìì¸ ê°€ì´ë“œë¼ì¸ ì¤€ìˆ˜

  - í•¨ìˆ˜ëŠ” ë™ì‚¬ë¡œ, ë³€ìˆ˜ë‚˜ ìƒìˆ˜ëŠ” ëª…ì‚¬ë¡œ ì‘ì„±

  - ë„¤ì´ë°ì— ì‹ ê²½ì“°ê¸°

## ê¸°ëŠ¥

<img width="250" src="https://user-images.githubusercontent.com/49808034/117962192-ea578e80-b359-11eb-87bc-33537987fa2f.gif">

> ê° ê³ ê°ì˜ ë“±ê¸‰ê³¼ ì—…ë¬´ëŠ” ëœë¤ì´ë©°, ì—…ë¬´ë³„ ì†Œìš” ì‹œê°„ì´ ë‹¤ë¦„

## Trouble Shooting

### - ì™œ ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°ì´ í•„ìš”í•˜ì˜€ë‚˜?  
ì´ˆê¸° í”„ë¡œì íŠ¸ëŠ” ì€í–‰ì›ì´ 1ëª…ì´ì—ˆê³ , ìˆœì°¨ì ìœ¼ë¡œ ê³ ê°ì„ ì‘ëŒ€í•˜ë©´ ë˜ì—ˆê¸°ì— ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°ì´ í•„ìš”í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.  
í•˜ì§€ë§Œ ì€í–‰ì›ì´ ëŠ˜ì–´ë‚¨ì— ë”°ë¼ ì€í–‰ì› ìˆ˜ë§Œí¼ ê³ ê°ì„ ì‘ëŒ€í•˜ì—¬ì•¼í–ˆê¸° ë•Œë¬¸ì— ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°ì´ í•„ìš”í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.
- ì€í–‰ì› 1ëª…, ê³ ê° 2ëª… (ë™ê¸°)  
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-05-17 á„‹á…©á„’á…® 11 43 30](https://user-images.githubusercontent.com/49808034/118507950-b02b2a00-b769-11eb-96ee-408eee149194.png)

- ì€í–‰ì› 2ëª…, ê³ ê° 4ëª… (ë™ê¸°)  
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-05-17 á„‹á…©á„’á…® 11 44 16](https://user-images.githubusercontent.com/49808034/118508067-cc2ecb80-b769-11eb-999c-059932d3d2df.png)

- ì€í–‰ì› 2ëª…, ê³ ê° 4ëª… (ë¹„ë™ê¸°)  
![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-05-17 á„‹á…©á„’á…® 11 44 50](https://user-images.githubusercontent.com/49808034/118508147-dfda3200-b769-11eb-931f-2c5e0f672b71.png)

                
### - DispatchQueueì™€ OperationQueue ì¤‘ DispatchQueueë¥¼ ì‚¬ìš©í•œ ì´ìœ ?  
ë¹„êµì  ê°„ë‹¨í•œ ë¹„ë™ê¸° ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤ê³  ìƒê°í•˜ì—¬ DispatchQueueë¥¼ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.  
OperationQueue ì˜ ê²½ìš°ì—ëŠ” ë™ì‹œì— ì‹¤í–‰ë˜ëŠ” Taskì˜ ìˆ˜ë¥¼ ì§€ì •í•˜ê±°ë‚˜ Taskì˜ ì¼ì‹œì •ì§€, ì·¨ì†Œë¥¼ í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ ìˆìŠµë‹ˆë‹¤.  
í•˜ì§€ë§Œ ë³¸ í”„ë¡œì íŠ¸ì—ì„œëŠ” OperationQueueì˜ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ê°€ ì—†ë‹¤ê³  íŒë‹¨í•˜ì˜€ìŠµë‹ˆë‹¤.

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-05-17 á„‹á…©á„’á…® 3 39 04](https://user-images.githubusercontent.com/49808034/118442786-04acb600-b726-11eb-8b4c-459be019261f.png)

> ì°¸ê³ ) [ì¸í”„ëŸ° ê°•ì˜ ì•¨ëŸ°ë‹˜](https://www.inflearn.com/course/iOS-Concurrency-GCD-Operation#)

### - ì€í–‰ì›ì˜ ì—…ë¬´ê°€ ëª¨ë‘ ì™„ë£Œë˜ì§€ ì•Šì•˜ìŒì—ë„ ì—…ë¬´ì™„ë£Œ ë©”ì„¸ì§€, ì´ˆê¸° ë©”ì„¸ì§€ë¥¼ ì¶œë ¥í•˜ëŠ” í˜„ìƒ

```swift
// BankManager.swift 
   mutating private func distributeCustomer() {
        var isContinue = true
        let group = DispatchGroup()
        
        while isContinue {
            for bankclerk in bankclerks {
                if bankclerk.isWorking == false {
                    if customerList.count == 0 {
                        isContinue = false
                        break
                    }
                    let customer = customerList.removeFirst()
                    bankclerk.serveCustomers(customer: customer, group: group)
                    self.numberOfCustomer += 1
                }
            }
        }
        group.wait()
    }
```
ìœ„ ì½”ë“œì—ì„œ group.wait() ë¶€ë¶„ì´ ì—†ë‹¤ë©´ í•´ë‹¹ ìŠ¤ë ˆë“œì˜ ì‘ì—…ì´ ëë‚˜ê¸¸ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³ , ë©”ì„œë“œê°€ ëì´ ë‚©ë‹ˆë‹¤.   
ê·¸ í›„ì— ë¡œì§ìƒ ë©”ì„¸ì§€ë¥¼ ì¶œë ¥í•˜ëŠ” ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê²Œ ë˜ì–´ ì•„ë˜ì™€ ê°™ì´ ì€í–‰ì´ ì—…ë¬´ ë§ˆê°ë¬¸êµ¬ë¥¼ ë¨¼ì € ì¶œë ¥í•˜ê²Œ ë©ë‹ˆë‹¤.  

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-06-28 á„‹á…©á„’á…® 5 53 55](https://user-images.githubusercontent.com/49808034/123608565-d1d40280-d839-11eb-9fb8-c28355ab76fb.png)



### - DispatchGroup ê³¼ Semaphore ì¤‘ DispatchGruopì„ ì‚¬ìš©í•œ ì´ìœ ?  

**DispatchGroup** ì€ ë””ìŠ¤íŒ¨ì¹˜ íì— ì¶”ê°€ëœ ì‘ì—…ì„ ê°€ìƒì˜ ê·¸ë£¹ìœ¼ë¡œ ê´€ë¦¬í•©ë‹ˆë‹¤. ì„œë¡œ ë‹¤ë¥¸ ë””ìŠ¤íŒ¨ì¹˜ íì— ì¶”ê°€ëœ ì‘ì—…ì„ ë™ì¼í•œ ê·¸ë£¹ì— ì¶”ê°€í•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•©ë‹ˆë‹¤. **ì—¬ëŸ¬ ì‘ì—…ì„ í•˜ë‚˜ì˜ ì‘ì—…ìœ¼ë¡œ ë¬¶ëŠ” ê²ƒ**ì´ë¼ê³  ìƒê°í•˜ë©´ í¸í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ê·¸ë£¹ì— í¬í•¨ëœ ëª¨ë“  ì‘ì—…ì´ ì™„ë£Œë˜ì–´ì•¼ ê·¸ë£¹ì´ ì™„ë£Œë©ë‹ˆë‹¤.  
  
**DispatchSemaphore** ëŠ” ê¸°ì¡´ì˜ ì¹´ìš´íŒ… ì„¸ë§ˆí¬ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ **ë‹¤ìˆ˜ì˜ ì‘ì—…ì´ í•˜ë‚˜ì˜ ë¦¬ì†ŒìŠ¤ì— ì ‘ê·¼í•˜ëŠ” ê²ƒì„ í†µì œ**í•˜ëŠ” ê°ì²´ì…ë‹ˆë‹¤. ê°„ë‹¨í•˜ê²Œ wait ê³¼ signal ì„ ì´ìš©í•˜ì—¬ ë¦¬ì†ŒìŠ¤ ì ‘ê·¼ì„ í†µì œí•©ë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì„ ì´ìš©í•˜ì—¬ ì‘ì—…ì˜ ìˆœì„œë¥¼ í†µì œí•˜ëŠ”ë°ì— ì‚¬ìš©ë  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

ìœ„ ë‘ ê°€ì§€ ê°œë…ì„ ë³´ì•˜ì„ ë•Œ ë‹¤ìˆ˜ì˜ ì‘ì—…ì´ í•˜ë‚˜ì˜ ë¦¬ì†ŒìŠ¤ì— ì ‘ê·¼í•˜ëŠ” ë°©ì‹ë³´ë‹¤ëŠ” ì—¬ëŸ¬ ì‘ì—…ì„ í•˜ë‚˜ì˜ ì‘ì—…ìœ¼ë¡œ ë¬¶ëŠ” ê²ƒì´ ì í•©í•˜ë‹¤ê³  ìƒê°í•˜ì˜€ìŠµë‹ˆë‹¤.  
ê·¸ ì´ìœ ëŠ” **ì—¬ëŸ¬ê°€ì§€ ì¼ì´ ì€í–‰ì›ì—ê²Œ ì ‘ê·¼í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼** ê³ ê°ì´ í•„ìš”ë¡œí•˜ëŠ” ì—…ë¬´ê°€ ëŒ€ì¶œì¸ì§€ ì˜ˆê¸ˆì¸ì§€ì— ëŒ€í•œ êµ¬ë¶„í•˜ëŠ” ë“± ì—¬ëŸ¬ê°€ì§€ ì¼ë“¤ì„ ì€í–‰ì› í•œëª…ì´ í•˜ê³  ìˆë‹¤ê³  ìƒê°í•˜ì—¬ **ì—¬ëŸ¬ ì‘ì—…ì„ í•˜ë‚˜ì˜ ì‘ì—…ìœ¼ë¡œ ë¬¶ì–´ í‘œí˜„í•˜ëŠ”ê²Œ ë” ìì—°ìŠ¤ëŸ¬ì›Œë³´ì—¬ DispatchGroupì„ ì±„íƒ**í•˜ì˜€ìŠµë‹ˆë‹¤.

```swift
// BankClerk.swift 
    func serveCustomers(customer: Customer, group: DispatchGroup) {
        self.isWorking = true
        BankerMessage.printTaskText(customer: customer.waitingNumber, customerClass: customer.grade.description, customerTask: customer.task.description, state: .start)
        queue.async(group: group) {
            if customer.task == .loan {
                self.performTask(task: .reviewDocument)
                Headquarter.common.judgeLoan(customer: customer)
                self.performTask(task: .excuteLoan)
            } else {
                usleep(customer.task.rawValue)
            }
            BankerMessage.printTaskText(customer: customer.waitingNumber, customerClass: customer.grade.description, customerTask: customer.task.description, state: .completion)
            self.isWorking = false
        }
    }
```

### - Threadì˜ sleep ëŒ€ì‹  usleepì„ ì‚¬ìš©í–ˆì„ ë•Œì˜ ì´ì ì´ ìˆì—ˆë‚˜ìš”?

ì½”ë“œ ë¦¬ë·° ì¤‘ ì•¼ê³°ì—ê²Œ ì•„ë˜ì™€ ê°™ì€ ì§ˆë¬¸ì„ ë°›ì•˜ìŠµë‹ˆë‹¤.  

<img width="800" src="https://user-images.githubusercontent.com/49808034/118435490-083a4000-b71a-11eb-9c1f-9bae4b720739.png">

Thread.sleepì€ Foundation Frameworkì˜ ë©”ì„œë“œ(Thread í´ë˜ìŠ¤ì˜ í´ë˜ìŠ¤ í•¨ìˆ˜)ì´ê³ , usleepì€ posix standard libraryì˜ ë©”ì„œë“œì…ë‹ˆë‹¤.  
ë©”ì¸ ì“°ë ˆë“œë¥¼ ë©ˆì¶”ê²Œ í•œë‹¤ëŠ” ê¸°ëŠ¥ì€ ë™ì¼í•˜ì§€ë§Œ ì…ë ¥ íŒŒë¼ë¯¸í„°ì— ì°¨ì´ê°€ ìˆìŠµë‹ˆë‹¤. 

```swift

open class func sleep(forTimeInterval ti: TimeInterval)

public func usleep(_: useconds_t) -> Int32

``` 
ìœ„ì™€ ê°™ì´ Thread.sleepì€ time intervalì„ ì…ë ¥ ë°›ê³ , usleepì€ useconds_të¥¼ ì…ë ¥ìœ¼ë¡œ ë°›ìŠµë‹ˆë‹¤.  
ê²°êµ­ **time intervalì˜ ë¶€ë™ì†Œìˆ˜ì ìœ¼ë¡œ ì¸í•´, ì—…ë¬´ ì†Œìš”ì‹œê°„ êµ¬í˜„ì— ì´ˆ ë‹¨ìœ„ë¥¼ ì“¸ ê²½ìš° ì •í™•í•˜ê²Œ ë‚˜ì˜¤ì§€ ì•Šì•„ì„œ useconds_të¥¼ ì‚¬ìš©**í•˜ì˜€ìŠµë‹ˆë‹¤.



## í•™ìŠµ ë‚´ìš©
- ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°
- Operation
- DispatchQueue
- DispatchGroup, Semaphore
